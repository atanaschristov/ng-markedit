!function(a,b){"use strict";if(!b)return void console.log("angularjs is required");var c=b.module("ng-md-review",[]);c.provider("MdViewConfig",function(){this.hljsConfig={style:"default",highlight:!0},this.mdConfig={html:!0,linkify:!0,highlight:!0,typographer:!1},this.emojifyConfig={img_dir:"bower_components/emojify.js/dist/images",blacklist:{elements:["pre"]}};var a=function(a,b){for(var c in b)a[c]=b[c]};this.setHighlighterConfig=function(b){a(this.hljsConfig,b)},this.setMarkdownItConfig=function(b){a(this.mdConfig,b)},this.setEmojifyConfig=function(b){a(this.emojifyConfig,b)},this.$get=function(){return this}}),c.service("EmojifyService",["MdViewConfig",function(a){var b={emojify:function(b){return emojify.setConfig(a.emojifyConfig),b=emojify.replace(b)}};return b}]),c.directive("mdView",["$templateRequest","MdViewConfig","EmojifyService","MdRenderService",function(a,b,c,d){return{scope:{mdtext:"=","import":"@"},link:function(e,f,g){console.log("md-view",e,f,g);var h=function(a){var e=c.emojify(a);f.html(d.render(e)),b.mdConfig.highlight&&f.find("pre").addClass("hljs")};g.mdtext&&e.$watch("mdtext",h),g["import"]&&e.$watch("import",function(b){a(b,!0).then(function(a){g.mdtext&&(e.mdtext=a),h(a)})})}}}]),c.service("MdRenderService",["MdViewConfig",function(a){var b,c={js:"javascript",html:"xml"},d=function(a,b){if(c[b]&&(b=c[b]),b&&hljs.getLanguage(b))try{return hljs.highlight(b,a).value}catch(d){}return""};a.mdConfig.highlight===!0&&(a.mdConfig.highlight=d),"function"!=typeof a.mdConfig.highlight&&delete a.mdConfig.highlight,b=markdownit(a.mdConfig).use(markdownitFootnote);var e={render:function(a){return"string"!=typeof a||a.length<=0?"":b.render(a)}};return e}])}(window,window.angular);